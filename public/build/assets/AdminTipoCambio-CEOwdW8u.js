import{r as n,j as e}from"./app-DO7p01gJ.js";function b({tipoCambio:a}){const[c,u]=n.useState(a?.compra||""),[r,x]=n.useState(a?.venta||""),[o,i]=n.useState(!1),[d,t]=n.useState(""),p=async s=>{s.preventDefault(),i(!0),t("");const h=document.querySelector('meta[name="csrf-token"]').content;try{const l=await fetch("/admin/tipo-cambio",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":h,Accept:"application/json"},body:JSON.stringify({compra:c,venta:r})}),m=await l.json();l.ok&&m.success?t("Tipo de cambio actualizado ✅"):t(m.message||"Error al actualizar ❌")}catch(l){console.error(l),t("Error de conexión ❌")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 flex flex-col items-center",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Panel de Tipo de Cambio"}),e.jsx("div",{className:"w-full max-w-lg overflow-x-auto mb-6",children:e.jsxs("table",{className:"bg-white shadow-md rounded w-full min-w-[400px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"p-2 text-left",children:"Compra (actual)"}),e.jsx("th",{className:"p-2 text-left",children:"Venta (actual)"}),e.jsx("th",{className:"p-2 text-left",children:"Última actualización"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"odd:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:a?.compra}),e.jsx("td",{className:"p-2",children:a?.venta}),e.jsx("td",{className:"p-2",children:a?.fecha_actualizacion})]})})]})}),e.jsxs("form",{onSubmit:p,className:"bg-white p-6 sm:p-8 rounded shadow-md w-full max-w-md flex flex-col gap-4",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold mb-1",children:"Actualizar Compra:"}),e.jsx("input",{type:"number",step:"0.01",value:c,onChange:s=>u(s.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold mb-1",children:"Actualizar Venta:"}),e.jsx("input",{type:"number",step:"0.01",value:r,onChange:s=>x(s.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),e.jsx("button",{type:"submit",disabled:o,className:"bg-blue-500 text-white rounded p-2 mt-2 hover:bg-blue-600 disabled:opacity-50 transition-colors",children:o?"Actualizando...":"Actualizar Tipo de Cambio"}),d&&e.jsx("p",{className:"mt-2 text-center text-sm",children:d})]})]})}export{b as default};
