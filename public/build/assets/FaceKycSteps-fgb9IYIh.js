import{j as e,r as s,a as _}from"./app-CAJcvxt3.js";import{c as S,R as $,L as A}from"./refresh-cw-0vrg12vW.js";function z({step:a,totalSteps:l,labels:m=[]}){const d=Math.max(0,Math.min(100,a/l*100));return e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-between mb-2",children:Array.from({length:l},(n,c)=>e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center border-2 transition-colors ${c+1<=a?"bg-indigo-600 border-indigo-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:c+1}),m[c]&&e.jsx("span",{className:"mt-1 text-[11px] sm:text-xs text-gray-600 font-medium",children:m[c]})]},c))}),e.jsx("div",{className:"w-full bg-gray-300 h-3 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${d}%`}})}),e.jsx("p",{className:"text-center mt-2 font-medium text-gray-700",children:`Paso ${a} de ${l}`})]})}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P=S("arrow-left",I);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T=S("arrow-right",V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],H=S("camera",q);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],K=S("car",G);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],J=S("id-card",F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],E=S("info",Y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],X=S("plane",W);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Z=S("square",Q);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ee=S("video",B),te=[{id:"ci",label:"Carnet de identidad",icon:J,help:"Foto de anverso y reverso"},{id:"licencia",label:"Licencia de conducir",icon:K,help:"Foto de anverso y reverso"},{id:"pasaporte",label:"Pasaporte",icon:X,help:"Una sola foto"}];function se({value:a,onChange:l,onNext:m}){return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-5",children:[e.jsx("h2",{className:"font-semibold text-lg text-center",children:"Selecciona el tipo de documento"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:te.map(d=>{const n=d.icon,c=a===d.id;return e.jsx("button",{type:"button",onClick:()=>l(d.id),className:`rounded-2xl border px-4 py-4 text-left shadow-sm hover:shadow transition ${c?"border-indigo-600 ring-2 ring-indigo-200 bg-indigo-50":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`p-2 rounded-full ${c?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,children:e.jsx(n,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:d.label}),e.jsx("p",{className:"text-xs text-gray-500",children:d.help})]})]})},d.id)})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg",children:"Continuar"})})]})}function re({docType:a,docFrontBlob:l,docBackBlob:m,setDocFrontBlob:d,setDocBackBlob:n,onNext:c,onBack:y}){const o=s.useRef(null),v=s.useRef(null),[j,N]=s.useState(null),[C,x]=s.useState("Iniciando c√°mara..."),[w,g]=s.useState(""),[u,h]=s.useState("front"),[p,R]=s.useState("capturing"),M=a==="ci"||a==="licencia",k=()=>{try{o.current?.srcObject&&(o.current.srcObject.getTracks().forEach(r=>r.stop()),o.current.srcObject=null),j&&j.getTracks().forEach(r=>r.stop())}catch{}N(null)},U=()=>new Promise(r=>{const f=o.current;if(!f||f.readyState>=1)return r();const D=()=>{f.removeEventListener("loadedmetadata",D),r()};f.addEventListener("loadedmetadata",D,{once:!0})}),b=async()=>{if(k(),g(""),x(u==="front"?"üìÑ Ajusta tu documento dentro del marco y presiona Capturar.":"Prepar√°ndote para el reverso..."),u==="back"){let r=3;x(`üìÑ Ahora tomar√°s foto del reverso en ${r}...`);const f=setInterval(()=>{r--,r>0?x(`üìÑ Ahora tomar√°s foto del reverso en ${r}...`):(clearInterval(f),x("üìÑ Ajusta el reverso dentro del marco y presiona Capturar."),t())},1e3)}else t()},t=async()=>{try{let r=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});if(!o.current)return;o.current.srcObject=r,o.current.setAttribute("playsinline",""),o.current.muted=!0,await U(),await o.current.play(),N(r)}catch(r){console.error(r),g("‚ùå No se pudo activar la c√°mara."),x("")}},i=()=>{if(!o.current||!v.current)return;const r=o.current,f=v.current;f.width=r.videoWidth||720,f.height=r.videoHeight||1280,f.getContext("2d").drawImage(r,0,0,f.width,f.height),f.toBlob(O=>{O&&(u==="front"?(d(O),M?(k(),h("back"),x("‚úÖ Frontal capturado. Ahora el reverso."),setTimeout(()=>b(),2e3)):(k(),R("captured"),x("‚úÖ Documento capturado."))):(n(O),k(),R("captured"),x("‚úÖ Documento completo (anverso y reverso).")))},"image/jpeg",.92)},L=()=>{d(null),n(null),h("front"),R("capturing"),g(""),x("üìÑ Ajusta tu documento dentro del marco y presiona Capturar."),b()};return s.useEffect(()=>(h("front"),R("capturing"),b(),()=>k()),[a]),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 space-y-6 max-w-lg mx-auto border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Captura de documento"}),e.jsxs("p",{className:"font-semibold text-xl text-gray-800 flex items-center gap-2",children:[a==="pasaporte"?"Pasaporte":u==="front"?"Anverso":"Reverso",e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-indigo-100 text-indigo-700",children:a.toUpperCase()})]})]}),e.jsx("div",{className:"relative border-2 border-dashed border-indigo-400 bg-gray-900 aspect-[3/4] rounded-xl overflow-hidden flex items-center justify-center shadow-inner",children:u==="front"&&!l||u==="back"&&!m?e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center px-3 text-center",children:e.jsx("p",{className:"text-white text-sm bg-black/60 rounded-lg px-3 py-2",children:w||C})}),e.jsx("div",{className:"absolute h-56 w-72 border-2 border-green-400 rounded-lg pointer-events-none animate-pulse"})]}):e.jsx("img",{src:URL.createObjectURL(u==="front"?l:m),alt:"Documento",className:"w-full h-full object-cover rounded-lg"})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-semibold",children:[e.jsx(E,{size:18})," Recomendaciones KYC"]}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"Coloca el documento completo dentro del marco."}),e.jsx("li",{children:"Usa buena iluminaci√≥n y evita reflejos."}),e.jsx("li",{children:"No cubras datos con las manos."}),e.jsx("li",{children:"Fondo uniforme y sin distracciones."}),e.jsx("li",{children:"Verifica que el texto sea legible."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-4",children:[p==="capturing"&&(u==="front"&&!l||u==="back"&&!m)&&e.jsxs("button",{onClick:i,className:"col-span-2 bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 px-4 py-3 rounded-xl shadow-lg",children:[e.jsx(H,{size:18})," Capturar"]}),p==="captured"&&e.jsxs("button",{onClick:L,className:"col-span-2 bg-yellow-500 hover:bg-yellow-600 text-white flex items-center justify-center gap-2 px-4 py-3 rounded-xl shadow-lg",children:[e.jsx($,{size:18})," Repetir"]}),e.jsxs("button",{onClick:y,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 flex items-center justify-center gap-2 px-3 py-3 rounded-xl shadow",children:[e.jsx(P,{size:18})," Atr√°s"]}),e.jsxs("button",{onClick:c,disabled:!l||M&&!m,className:`flex items-center justify-center gap-2 px-3 py-3 rounded-xl shadow ${!l||M&&!m?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:["Siguiente ",e.jsx(T,{size:18})]})]}),e.jsx("canvas",{ref:v,className:"hidden"})]})}function ae({videoBlob:a,setVideoBlob:l,nextStep:m,prevStep:d}){const n=s.useRef(null),c=s.useRef(null),y=s.useRef([]),[o,v]=s.useState(!1),[j,N]=s.useState(null),[C,x]=s.useState(""),[w,g]=s.useState("Iniciando c√°mara..."),[u,h]=s.useState(""),p=()=>{try{n.current?.srcObject&&(n.current.srcObject.getTracks().forEach(t=>t.stop()),n.current.srcObject=null),j&&j.getTracks().forEach(t=>t.stop())}catch{}N(null)},R=()=>new Promise(t=>{const i=n.current;if(!i||i.readyState>=3)return t();const L=()=>{i.removeEventListener("loadedmetadata",L),t()};i.addEventListener("loadedmetadata",L,{once:!0})}),M=async()=>{p(),x(""),g("Iniciando c√°mara..."),h("");try{let t;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaDevices no soportado");try{t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0})}catch{const L=(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="videoinput");if(!L.length)throw new Error("No hay c√°maras disponibles");t=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:L[0].deviceId}},audio:!0})}if(!n.current)return;n.current.srcObject=t,n.current.setAttribute("playsinline",""),n.current.muted=!0,await R();try{await n.current.play()}catch(i){console.error("video.play() fallo:",i),h(`Error video.play(): ${i.message}`)}N(t),g("C√°mara y micr√≥fono activos. Pulsa grabar cuando est√©s listo.")}catch(t){console.error(t),x("‚ùå No se pudo activar la c√°mara."),g(""),h(t.message)}},k=()=>["video/webm;codecs=vp8,opus","video/webm;codecs=vp8","video/webm","video/mp4"].find(i=>window.MediaRecorder&&MediaRecorder.isTypeSupported(i))||"",U=async()=>{if(!n.current?.srcObject){x("‚ùå La c√°mara no est√° activa.");return}try{await R(),y.current=[];const t=k();if(!t){x("‚ùå Ning√∫n formato de video soportado en este dispositivo.");return}try{c.current=new MediaRecorder(n.current.srcObject,{mimeType:t})}catch(i){console.error("MediaRecorder fallo:",i),x("‚ùå MediaRecorder no pudo iniciarse."),h(i.message);return}c.current.ondataavailable=i=>{i.data&&i.data.size>0&&y.current.push(i.data)},c.current.onstop=()=>{const i=new Blob(y.current,{type:t});l(i),g("‚úÖ Grabaci√≥n finalizada.")},c.current.start(100),v(!0),g("üé• Grabando... Habla claramente frente a la c√°mara."),h(`Grabando con mimeType: ${t}`)}catch(t){console.error(t),x("‚ùå Error iniciando grabaci√≥n."),h(t.message)}},b=()=>{c.current&&o&&(c.current.stop(),v(!1),p())};return s.useEffect(()=>(M(),()=>p()),[]),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 space-y-6 max-w-lg mx-auto border border-gray-200",children:[e.jsx("p",{className:"font-semibold text-lg text-center text-gray-800 flex items-center justify-center gap-2",children:"üé• Video selfie (c√°mara frontal)"}),e.jsxs("div",{className:"relative border-2 border-dashed border-indigo-400 bg-gray-900 aspect-[3/4] rounded-xl flex items-center justify-center overflow-hidden shadow-inner",children:[e.jsx("video",{ref:n,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 inset-x-0 flex justify-center px-3 text-center",children:e.jsx("p",{className:"text-white text-sm bg-black/60 px-3 py-1 rounded-lg",children:C||w})})]}),u&&e.jsxs("div",{className:"bg-gray-800 text-white p-2 rounded-md text-xs break-words",children:["Debug: ",u]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-semibold",children:[e.jsx(E,{size:18})," Recomendaciones para el video"]}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"Graba en un lugar bien iluminado y silencioso."}),e.jsx("li",{children:"Mant√©n tu rostro en movimiento."}),e.jsx("li",{children:"No uses gafas oscuras ni cubras tu cara."}),e.jsx("li",{children:"Habla claramente cuando se te indique."}),e.jsx("li",{children:"Mant√©n el dispositivo estable."})]})]}),e.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[o?e.jsxs("button",{onClick:b,className:"bg-yellow-500 hover:bg-yellow-600 text-white flex items-center gap-2 px-5 py-2 rounded-xl shadow-lg",children:[e.jsx(Z,{size:18})," Detener"]}):e.jsxs("button",{onClick:U,className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 px-5 py-2 rounded-xl shadow-lg",children:[e.jsx(ee,{size:18})," Grabar"]}),e.jsx("button",{onClick:d,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-xl shadow",children:"Atr√°s"}),e.jsx("button",{onClick:m,disabled:!a,className:`px-4 py-2 rounded-xl shadow flex items-center gap-2 ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Siguiente"})]}),a&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Vista previa del video"}),e.jsx("video",{src:URL.createObjectURL(a),controls:!0,playsInline:!0,className:"w-48 h-48 mx-auto rounded-lg border shadow"})]})]})}function ne({docType:a,docFrontBlob:l,docBackBlob:m,videoBlob:d,prevStep:n,loading:c,setLoading:y,resultado:o,setResultado:v}){const[j,N]=s.useState(null),[C,x]=s.useState([]),[w,g]=s.useState(null),[u,h]=s.useState(null),[p,R]=s.useState(null);s.useEffect(()=>(l&&g(URL.createObjectURL(l)),m&&h(URL.createObjectURL(m)),d&&R(URL.createObjectURL(d)),()=>{w&&URL.revokeObjectURL(w),u&&URL.revokeObjectURL(u),p&&URL.revokeObjectURL(p)}),[l,m,d]);const M=()=>document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",k=async()=>{if(!l||!d)return alert("‚ö†Ô∏è Debes capturar documento y video.");const b=new FormData;b.append("carnet",l,"documento_frente.jpg"),b.append("doc_type",a),b.append("video",d,"video.mp4");try{y(!0);const t=await _.post("https://apiface-production-767c.up.railway.app/registro-face/verify",b);v(t.data);const i=M(),r=(await _.post("/face/verify",{resultado:t.data},{headers:{"X-CSRF-TOKEN":i,"Content-Type":"application/json"}})).data;N(r.mensaje||"‚ÑπÔ∏è Verificaci√≥n realizada."),x(r.sugerencias||[]),(r.status==="success"||r.kyc_status==="active")&&setTimeout(()=>{const D=new URLSearchParams(window.location.search).get("next");window.location.href=D||"/"},1200)}catch(t){console.error(t),alert("‚ùå Error en la verificaci√≥n KYC. Intenta nuevamente.")}finally{y(!1)}},U=()=>o?e.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-100 shadow-inner space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Resultado de verificaci√≥n"}),j&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"üì¢ Mensaje:"})," ",j]}),o.score!==void 0&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"‚≠ê Score:"})," ",o.score]}),C.length>0&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-sm",children:"‚ö†Ô∏è Sugerencias:"}),e.jsx("ul",{className:"list-disc ml-5 text-sm text-red-600",children:C.map((b,t)=>e.jsx("li",{children:b},t))})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-xs text-gray-500",children:"Ver JSON completo"}),e.jsx("pre",{className:"text-xs bg-white rounded-md p-2 overflow-auto max-h-60 border",children:JSON.stringify(o,null,2)})]})]}):null;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-4",children:[e.jsx("p",{className:"font-semibold text-lg text-center",children:"Revisa tus capturas"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[w&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:a==="pasaporte"?"Pasaporte":"Anverso"}),e.jsx("img",{src:w,alt:"Documento anverso",className:"rounded-lg border shadow w-full h-auto object-cover"})]}),u&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Reverso"}),e.jsx("img",{src:u,alt:"Documento reverso",className:"rounded-lg border shadow w-full h-auto object-cover opacity-80"})]})]}),p&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Video selfie"}),e.jsx("video",{src:p,controls:!0,className:"rounded-lg border shadow w-full h-auto object-cover"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mt-4",children:[e.jsx("button",{onClick:n,className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg",children:"Atr√°s"}),e.jsxs("button",{onClick:k,disabled:c,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-60 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c&&e.jsx(A,{className:"h-4 w-4 animate-spin"})," Verificar"]})]}),U()]})}function ie(){const[a,l]=s.useState(1),[m,d]=s.useState("ci"),[n,c]=s.useState(null),[y,o]=s.useState(null),[v,j]=s.useState(null),[N,C]=s.useState(!1),[x,w]=s.useState(null),g=4,u=()=>l(p=>Math.min(p+1,g)),h=()=>{l(p=>(p===2&&(c(null),o(null)),Math.max(p-1,1)))};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 sm:p-6 bg-gradient-to-br from-indigo-50 to-purple-50 space-y-6",children:e.jsxs("div",{className:"w-full max-w-3xl",children:[e.jsx(z,{step:a,totalSteps:g,labels:["Documento","Captura","Video","Revisi√≥n"]}),a===1&&e.jsx(se,{value:m,onChange:d,onNext:u}),a===2&&e.jsx(re,{docType:m,docFrontBlob:n,docBackBlob:y,setDocFrontBlob:c,setDocBackBlob:o,onNext:u,onBack:h}),a===3&&e.jsx(ae,{videoBlob:v,setVideoBlob:j,nextStep:u,prevStep:h}),a===4&&e.jsx(ne,{docType:m,docFrontBlob:n,docBackBlob:y,videoBlob:v,prevStep:h,loading:N,setLoading:C,resultado:x,setResultado:w})]})})}export{ie as default};
